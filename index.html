<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Click Counter</title>
    
    <meta name="description" content="clicker">
    <meta name="keywords" content="Game, clicker, live, multiplayer, button clicker, 1m clicks, fun games, free games, click the button">

    <!-- Load Firebase Scripts with Defer -->
    <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script defer src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>

    <!-- Inline Critical CSS -->
    <style>
        body {
            font-family: 'Arial', sans-serif;
            text-align: center;
            background: linear-gradient(135deg, #1e1e2f, #2a2a40);
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
        }

        h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        #counter {
            font-size: 80px;
            font-weight: bold;
            margin: 20px 0;
        }

        .buttons {
            display: flex;
            gap: 20px;
        }

        button {
            border: none;
            padding: 15px 30px;
            font-size: 20px;
            font-weight: bold;
            color: white;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.2s ease-in-out;
            outline: none;
        }

        /* Green Increase Button */
        #incrementBtn {
            background-color: #12e655;
            box-shadow: 0 4px 10px rgba(18, 230, 85, 0.3);
        }

        #incrementBtn:hover {
            background-color: #0fcf4d;
            transform: scale(1.05);
        }

        /* Red Decrease Button */
        #decrementBtn {
            background-color: #f21d1d;
            box-shadow: 0 4px 10px rgba(242, 29, 29, 0.3);
        }

        #decrementBtn:hover {
            background-color: #d91515;
            transform: scale(1.05);
        }

        button:active {
            transform: scale(0.95);
        }
    </style>

    <!-- Load Non-Critical CSS Asynchronously -->
    <link rel="stylesheet" href="styles.css" media="print" onload="this.onload=null;this.media='all';">
</head>
<body>

    <h1>Goal: Reach 1,000,000 Clicks</h1>
    <div id="counter">Loading...</div>
    <div class="buttons">
        <button id="decrementBtn">Decrease</button>
        <button id="incrementBtn">Increase</button>
    </div>

    <!-- Move JavaScript to the End of Body -->
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyBAp_0PiYlioKaUaxz2YWh1-NjrkbnHW28",
            authDomain: "i-dare-you-25f82.firebaseapp.com",
            databaseURL: "https://i-dare-you-25f82-default-rtdb.firebaseio.com",
            projectId: "i-dare-you-25f82",
            storageBucket: "i-dare-you-25f82.firebasestorage.app",
            messagingSenderId: "373335436413",
            appId: "1:373335436413:web:fc898e61ef388187c91514",
            measurementId: "G-MCHPNDWVWW"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        const counterRef = db.ref("counter");

        // Increase Button
        document.getElementById("incrementBtn").addEventListener("click", () => {
            counterRef.transaction(count => (count || 0) + 1);
        });

        // Decrease Button
        document.getElementById("decrementBtn").addEventListener("click", () => {
            counterRef.transaction(count => Math.max((count || 0) - 1, 0)); // Prevent negative numbers
        });

        // Listen for updates
        counterRef.on("value", snapshot => {
            if (snapshot.exists()) {
                document.getElementById("counter").innerText = snapshot.val();
            } else {
                document.getElementById("counter").innerText = 0;
            }
        });

    </script>

</body>
</html>
